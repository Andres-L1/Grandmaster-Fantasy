import{d as He,f as N,a as S,s as Q,c as Re,t as je}from"../chunks/WEM4zU-r.js";import{o as ea}from"../chunks/Bdfn9RlY.js";import{p as Ge,J as H,a3 as Ve,u as Le,k as s,o as w,c as x,r as g,s as P,a as Ke,K as aa,n as xe,t as se,B as we,e as ra,$ as ta}from"../chunks/D1QgSVr1.js";import{p as We,i as L}from"../chunks/C3DcYbzO.js";import{e as ye,i as Ee,t as ie,f as Ce,s as pe,d as Ue,a as ge,g as Te,h as na,b as ue}from"../chunks/B8JIPuhH.js";import{h as oa,c as ke,a as sa}from"../chunks/D-VoJ5lT.js";import{s as la,a as Se}from"../chunks/Cel6M6FF.js";import{u as be,a as ia}from"../chunks/C8Tetz5N.js";import{s as ze,C as da}from"../chunks/CK5GFt-g.js";const Ne={STARTER:{id:"STARTER",name:"Sobre Inicial",price:0,cardCount:3,description:"Tu primer paso hacia la gloria. Incluye una lecciÃ³n sobre duplicados.",probabilities:{goat:0,legendary:0,epic:0,rare:0,common:1},image:"ğŸ"},PAWN:{id:"PAWN",name:"Sobre PeÃ³n",price:100,cardCount:3,description:"3 Cartas. Ideal para empezar.",probabilities:{goat:.001,legendary:.01,epic:.08,rare:.25,common:.659},image:"â™Ÿï¸"},KNIGHT:{id:"KNIGHT",name:"Sobre Caballo",price:500,cardCount:3,description:"3 Cartas. Mejores opciones.",probabilities:{goat:.01,legendary:.05,epic:.2,rare:.4,common:.34},image:"â™"},KING:{id:"KING",name:"Sobre Rey",price:2e3,cardCount:3,description:"3 Cartas. La verdadera Ã©lite.",probabilities:{goat:.05,legendary:.15,epic:.35,rare:.3,common:.15},image:"â™š"}};class ca{openPack(u,y){if(u==="STARTER")return this.openStarterPack(y);const C=Ne[u],p=[],m={goat:y.filter(M=>M.rating>=2700),legendary:y.filter(M=>M.rating>=2660&&M.rating<2700),epic:y.filter(M=>M.rating>=2655&&M.rating<2660),rare:y.filter(M=>M.rating>=2650&&M.rating<2655),common:y.filter(M=>M.rating<2650)};m.goat.length===0&&(m.goat=m.legendary),m.legendary.length===0&&(m.legendary=m.epic),m.epic.length===0&&(m.epic=m.rare),m.rare.length===0&&(m.rare=m.common);for(let M=0;M<C.cardCount;M++){const R=Math.random();let A=[];if(R<C.probabilities.goat?A=m.goat:R<C.probabilities.goat+C.probabilities.legendary?A=m.legendary:R<C.probabilities.goat+C.probabilities.legendary+C.probabilities.epic?A=m.epic:R<C.probabilities.goat+C.probabilities.legendary+C.probabilities.epic+C.probabilities.rare?A=m.rare:A=m.common,A.length>0){const K=A[Math.floor(Math.random()*A.length)];p.push(K)}else p.push(y[Math.floor(Math.random()*y.length)])}return p}openStarterPack(u){const y=[],C=u.filter(R=>R.rating<2660),p=C.length>2?C:u,m=p[Math.floor(Math.random()*p.length)];let M=p[Math.floor(Math.random()*p.length)];for(;M.id===m.id;)M=p[Math.floor(Math.random()*p.length)];return y.push(m),y.push(M),y.push(m),y}}const Pe=new ca;var Ae={};(function ve(u,y,C,p){var m=!!(u.Worker&&u.Blob&&u.Promise&&u.OffscreenCanvas&&u.OffscreenCanvasRenderingContext2D&&u.HTMLCanvasElement&&u.HTMLCanvasElement.prototype.transferControlToOffscreen&&u.URL&&u.URL.createObjectURL),M=typeof Path2D=="function"&&typeof DOMMatrix=="function",R=function(){if(!u.OffscreenCanvas)return!1;try{var a=new OffscreenCanvas(1,1),e=a.getContext("2d");e.fillRect(0,0,1,1);var n=a.transferToImageBitmap();e.createPattern(n,"no-repeat")}catch{return!1}return!0}();function A(){}function K(a){var e=y.exports.Promise,n=e!==void 0?e:u.Promise;return typeof n=="function"?new n(a):(a(A,A),null)}var q=function(a,e){return{transform:function(n){if(a)return n;if(e.has(n))return e.get(n);var o=new OffscreenCanvas(n.width,n.height),i=o.getContext("2d");return i.drawImage(n,0,0),e.set(n,o),o},clear:function(){e.clear()}}}(R,new Map),W=function(){var a=Math.floor(16.666666666666668),e,n,o={},i=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(d){var r=Math.random();return o[r]=requestAnimationFrame(function t(l){i===l||i+a-1<l?(i=l,delete o[r],d()):o[r]=requestAnimationFrame(t)}),r},n=function(d){o[d]&&cancelAnimationFrame(o[d])}):(e=function(d){return setTimeout(d,a)},n=function(d){return clearTimeout(d)}),{frame:e,cancel:n}}(),F=function(){var a,e,n={};function o(i){function d(r,t){i.postMessage({options:r||{},callback:t})}i.init=function(t){var l=t.transferControlToOffscreen();i.postMessage({canvas:l},[l])},i.fire=function(t,l,h){if(e)return d(t,null),e;var c=Math.random().toString(36).slice(2);return e=K(function(v){function b(I){I.data.callback===c&&(delete n[c],i.removeEventListener("message",b),e=null,q.clear(),h(),v())}i.addEventListener("message",b),d(t,c),n[c]=b.bind(null,{data:{callback:c}})}),e},i.reset=function(){i.postMessage({reset:!0});for(var t in n)n[t](),delete n[t]}}return function(){if(a)return a;if(!C&&m){var i=["var CONFETTI, SIZE = {}, module = {};","("+ve.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([i])))}catch(d){return typeof console<"u"&&typeof console.warn=="function"&&console.warn("ğŸŠ Could not load worker",d),null}o(a)}return a}}(),re={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function Z(a,e){return e?e(a):a}function te(a){return a!=null}function T(a,e,n){return Z(a&&te(a[e])?a[e]:re[e],n)}function fe(a){return a<0?0:Math.floor(a)}function me(a,e){return Math.floor(Math.random()*(e-a))+a}function ne(a){return parseInt(a,16)}function _(a){return a.map(D)}function D(a){var e=String(a).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:ne(e.substring(0,2)),g:ne(e.substring(2,4)),b:ne(e.substring(4,6))}}function z(a){var e=T(a,"origin",Object);return e.x=T(e,"x",Number),e.y=T(e,"y",Number),e}function B(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function Y(a){var e=a.getBoundingClientRect();a.width=e.width,a.height=e.height}function G(a){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=a,e}function J(a,e,n,o,i,d,r,t,l){a.save(),a.translate(e,n),a.rotate(d),a.scale(o,i),a.arc(0,0,1,r,t,l),a.restore()}function le(a){var e=a.angle*(Math.PI/180),n=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-e+(.5*n-Math.random()*n),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar,flat:a.flat}}function X(a,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var n=e.tick++/e.totalTicks,o=e.x+e.random*e.tiltCos,i=e.y+e.random*e.tiltSin,d=e.wobbleX+e.random*e.tiltCos,r=e.wobbleY+e.random*e.tiltSin;if(a.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-n)+")",a.beginPath(),M&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))a.fill(ce(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(d-o)*.1,Math.abs(r-i)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var t=Math.PI/10*e.wobble,l=Math.abs(d-o)*.1,h=Math.abs(r-i)*.1,c=e.shape.bitmap.width*e.scalar,v=e.shape.bitmap.height*e.scalar,b=new DOMMatrix([Math.cos(t)*l,Math.sin(t)*l,-Math.sin(t)*h,Math.cos(t)*h,e.x,e.y]);b.multiplySelf(new DOMMatrix(e.shape.matrix));var I=a.createPattern(q.transform(e.shape.bitmap),"no-repeat");I.setTransform(b),a.globalAlpha=1-n,a.fillStyle=I,a.fillRect(e.x-c/2,e.y-v/2,c,v),a.globalAlpha=1}else if(e.shape==="circle")a.ellipse?a.ellipse(e.x,e.y,Math.abs(d-o)*e.ovalScalar,Math.abs(r-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):J(a,e.x,e.y,Math.abs(d-o)*e.ovalScalar,Math.abs(r-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var f=Math.PI/2*3,k=4*e.scalar,E=8*e.scalar,O=e.x,j=e.y,ae=5,U=Math.PI/ae;ae--;)O=e.x+Math.cos(f)*E,j=e.y+Math.sin(f)*E,a.lineTo(O,j),f+=U,O=e.x+Math.cos(f)*k,j=e.y+Math.sin(f)*k,a.lineTo(O,j),f+=U;else a.moveTo(Math.floor(e.x),Math.floor(e.y)),a.lineTo(Math.floor(e.wobbleX),Math.floor(i)),a.lineTo(Math.floor(d),Math.floor(r)),a.lineTo(Math.floor(o),Math.floor(e.wobbleY));return a.closePath(),a.fill(),e.tick<e.totalTicks}function $(a,e,n,o,i){var d=e.slice(),r=a.getContext("2d"),t,l,h=K(function(c){function v(){t=l=null,r.clearRect(0,0,o.width,o.height),q.clear(),i(),c()}function b(){C&&!(o.width===p.width&&o.height===p.height)&&(o.width=a.width=p.width,o.height=a.height=p.height),!o.width&&!o.height&&(n(a),o.width=a.width,o.height=a.height),r.clearRect(0,0,o.width,o.height),d=d.filter(function(I){return X(r,I)}),d.length?t=W.frame(b):v()}t=W.frame(b),l=v});return{addFettis:function(c){return d=d.concat(c),h},canvas:a,promise:h,reset:function(){t&&W.cancel(t),l&&l()}}}function V(a,e){var n=!a,o=!!T(e||{},"resize"),i=!1,d=T(e,"disableForReducedMotion",Boolean),r=m&&!!T(e||{},"useWorker"),t=r?F():null,l=n?B:Y,h=a&&t?!!a.__confetti_initialized:!1,c=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,v;function b(f,k,E){for(var O=T(f,"particleCount",fe),j=T(f,"angle",Number),ae=T(f,"spread",Number),U=T(f,"startVelocity",Number),Me=T(f,"decay",Number),qe=T(f,"gravity",Number),Ze=T(f,"drift",Number),Oe=T(f,"colors",_),Je=T(f,"ticks",Number),Fe=T(f,"shapes"),Qe=T(f,"scalar"),Ye=!!T(f,"flat"),De=z(f),Be=O,_e=[],Xe=a.width*De.x,$e=a.height*De.y;Be--;)_e.push(le({x:Xe,y:$e,angle:j,spread:ae,startVelocity:U,color:Oe[Be%Oe.length],shape:Fe[me(0,Fe.length)],ticks:Je,decay:Me,gravity:qe,drift:Ze,scalar:Qe,flat:Ye}));return v?v.addFettis(_e):(v=$(a,_e,l,k,E),v.promise)}function I(f){var k=d||T(f,"disableForReducedMotion",Boolean),E=T(f,"zIndex",Number);if(k&&c)return K(function(U){U()});n&&v?a=v.canvas:n&&!a&&(a=G(E),document.body.appendChild(a)),o&&!h&&l(a);var O={width:a.width,height:a.height};t&&!h&&t.init(a),h=!0,t&&(a.__confetti_initialized=!0);function j(){if(t){var U={getBoundingClientRect:function(){if(!n)return a.getBoundingClientRect()}};l(U),t.postMessage({resize:{width:U.width,height:U.height}});return}O.width=O.height=null}function ae(){v=null,o&&(i=!1,u.removeEventListener("resize",j)),n&&a&&(document.body.contains(a)&&document.body.removeChild(a),a=null,h=!1)}return o&&!i&&(i=!0,u.addEventListener("resize",j,!1)),t?t.fire(f,O,ae):b(f,O,ae)}return I.reset=function(){t&&t.reset(),v&&v.reset()},I}var ee;function de(){return ee||(ee=V(null,{useWorker:!0,resize:!0})),ee}function ce(a,e,n,o,i,d,r){var t=new Path2D(a),l=new Path2D;l.addPath(t,new DOMMatrix(e));var h=new Path2D;return h.addPath(l,new DOMMatrix([Math.cos(r)*i,Math.sin(r)*i,-Math.sin(r)*d,Math.cos(r)*d,n,o])),h}function oe(a){if(!M)throw new Error("path confetti are not supported in this browser");var e,n;typeof a=="string"?e=a:(e=a.path,n=a.matrix);var o=new Path2D(e),i=document.createElement("canvas"),d=i.getContext("2d");if(!n){for(var r=1e3,t=r,l=r,h=0,c=0,v,b,I=0;I<r;I+=2)for(var f=0;f<r;f+=2)d.isPointInPath(o,I,f,"nonzero")&&(t=Math.min(t,I),l=Math.min(l,f),h=Math.max(h,I),c=Math.max(c,f));v=h-t,b=c-l;var k=10,E=Math.min(k/v,k/b);n=[E,0,0,E,-Math.round(v/2+t)*E,-Math.round(b/2+l)*E]}return{type:"path",path:e,matrix:n}}function he(a){var e,n=1,o="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof a=="string"?e=a:(e=a.text,n="scalar"in a?a.scalar:n,i="fontFamily"in a?a.fontFamily:i,o="color"in a?a.color:o);var d=10*n,r=""+d+"px "+i,t=new OffscreenCanvas(d,d),l=t.getContext("2d");l.font=r;var h=l.measureText(e),c=Math.ceil(h.actualBoundingBoxRight+h.actualBoundingBoxLeft),v=Math.ceil(h.actualBoundingBoxAscent+h.actualBoundingBoxDescent),b=2,I=h.actualBoundingBoxLeft+b,f=h.actualBoundingBoxAscent+b;c+=b+b,v+=b+b,t=new OffscreenCanvas(c,v),l=t.getContext("2d"),l.font=r,l.fillStyle=o,l.fillText(e,I,f);var k=1/n;return{type:"bitmap",bitmap:t.transferToImageBitmap(),matrix:[k,0,0,k,-c*k/2,-v*k/2]}}y.exports=function(){return de().apply(this,arguments)},y.exports.reset=function(){de().reset()},y.exports.create=V,y.exports.shapeFromPath=oe,y.exports.shapeFromText=he})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ae,!1);const Ie=Ae.exports;Ae.exports.create;var va=N('<div class="absolute w-2 h-2 bg-amber-400/20 rounded-full animate-float-slow svelte-18z0v2l"></div>'),ua=N('<div class="absolute w-64 h-64 border-4 border-amber-500/30 rounded-full animate-ping svelte-18z0v2l"></div>'),fa=N('<div class="flex flex-col items-center gap-8 relative z-10 svelte-18z0v2l"><div><div class="text-[12rem] drop-shadow-2xl filter svelte-18z0v2l"> </div> <div class="absolute inset-0 blur-3xl bg-amber-500/30 animate-pulse svelte-18z0v2l"></div></div> <div class="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-400 to-amber-600 animate-pulse svelte-18z0v2l"> </div> <div class="text-xl text-slate-400 font-bold svelte-18z0v2l"> </div> <div class="absolute inset-0 flex items-center justify-center pointer-events-none svelte-18z0v2l"></div></div>'),ma=N('<div class="text-2xl text-slate-300 font-bold animate-pulse svelte-18z0v2l"> </div>'),ha=N('<div class="text-2xl text-green-400 font-bold flex items-center gap-2 svelte-18z0v2l"><span class="text-3xl svelte-18z0v2l">âœ¨</span> Â¡Todas reveladas! <span class="text-3xl svelte-18z0v2l">âœ¨</span></div>'),pa=N('<div class="absolute inset-0 bg-black/85 flex flex-col items-center justify-center rounded-xl backdrop-blur-sm z-30 border-2 border-amber-500 svelte-18z0v2l"><div class="text-6xl mb-3 animate-bounce svelte-18z0v2l">ğŸ’°</div> <span class="text-amber-400 font-black mb-4 text-xl drop-shadow-md svelte-18z0v2l">Â¡REPETIDA!</span> <button class="bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-400 hover:to-emerald-500 text-white font-black text-base px-6 py-4 rounded-full shadow-2xl shadow-green-500/40 transition-all hover:scale-110 active:scale-95 svelte-18z0v2l">VENDER (+100 ğŸª™)</button></div>'),ga=N('<div class="absolute inset-0 bg-black/70 flex items-center justify-center rounded-xl z-30 svelte-18z0v2l"><div class="text-center svelte-18z0v2l"><div class="text-5xl mb-2 svelte-18z0v2l">âœ…</div> <span class="text-green-400 font-bold text-xl svelte-18z0v2l">VENDIDA</span></div></div>'),ba=N('<div class="relative max-w-xs w-full svelte-18z0v2l"><div class="absolute inset-0 blur-3xl opacity-60 rounded-xl animate-pulse svelte-18z0v2l"></div> <div class="relative transform hover:scale-105 transition-transform duration-300 svelte-18z0v2l"><!></div> <!></div>'),xa=N('<button class="group relative bg-gradient-to-r from-amber-500 via-yellow-500 to-amber-500 hover:from-amber-400 hover:via-yellow-400 hover:to-amber-400 text-slate-900 font-black px-16 py-6 rounded-full text-2xl shadow-2xl shadow-amber-500/50 transition-all hover:scale-110 active:scale-95 svelte-18z0v2l"><div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700 svelte-18z0v2l"></div> <span class="relative flex items-center gap-3 svelte-18z0v2l"><span class="text-3xl svelte-18z0v2l">âœ¨</span> Revelar Siguiente <span class="text-3xl svelte-18z0v2l">âœ¨</span></span></button>'),ya=N('<span class="text-2xl svelte-18z0v2l">âš ï¸</span> Vende la repetida primero',1),wa=N('<span class="text-3xl svelte-18z0v2l">ğŸ‰</span> Â¡Continuar! <span class="text-3xl svelte-18z0v2l">ğŸ‰</span>',1),Ma=N('<button class="group relative bg-gradient-to-r from-emerald-500 via-green-500 to-emerald-500 hover:from-emerald-400 hover:via-green-400 hover:to-emerald-400 text-white font-black px-16 py-6 rounded-full text-2xl shadow-2xl shadow-emerald-500/50 transition-all hover:scale-110 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:grayscale disabled:hover:scale-100 svelte-18z0v2l"><div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700 svelte-18z0v2l"></div> <span class="relative flex items-center gap-3 svelte-18z0v2l"><!></span></button>'),_a=N(`<div class="text-center text-slate-300 text-base max-w-lg bg-gradient-to-r from-slate-900/90 to-slate-800/90 p-6 rounded-xl border-2 border-amber-500/30 shadow-xl svelte-18z0v2l"><div class="text-3xl mb-3 svelte-18z0v2l">ğŸ’¡</div> <p class="font-bold text-amber-400 mb-2 svelte-18z0v2l">Tutorial</p> <p class="text-sm leading-relaxed svelte-18z0v2l">Has recibido cartas, pero una estÃ¡ repetida.
                            Â¡VÃ©ndela para conseguir tus primeras monedas y poder
                            comprar mÃ¡s sobres!</p></div>`),Ca=N('<div class="w-full max-w-7xl px-4 space-y-8 relative z-10 svelte-18z0v2l"><div class="text-center space-y-3 svelte-18z0v2l"><h2 class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-400 to-amber-600 drop-shadow-lg svelte-18z0v2l"> </h2> <div class="flex items-center justify-center gap-3 svelte-18z0v2l"><!></div></div> <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 justify-items-center max-w-5xl mx-auto svelte-18z0v2l"></div> <div class="flex flex-col items-center gap-4 pt-8 svelte-18z0v2l"><!> <!></div></div>'),Ta=N('<div class="fixed inset-0 z-[150] bg-gradient-to-b from-slate-950 via-slate-900 to-black flex items-center justify-center overflow-hidden svelte-18z0v2l"><div class="absolute inset-0 overflow-hidden pointer-events-none svelte-18z0v2l"></div> <!> <!></div>');function ka(ve,u){Ge(u,!0);let y=We(u,"isStarter",3,!1),C=We(u,"duplicateSold",3,!1),p=H("shake"),m=H(0),M=H(!0),R=H(Ve([])),A=H(!1);const K={STARTER:"ğŸ",PAWN:"â™Ÿï¸",KNIGHT:"â™",KING:"â™š"},q={STARTER:"Sobre Inicial",PAWN:"Sobre PeÃ³n",KNIGHT:"Sobre Caballo",KING:"Sobre Rey"};function W(_){return _>=2700?"#fbbf24":_>=2660?"#fb923c":_>=2655?"#a855f7":_>=2650?"#3b82f6":"#94a3b8"}function F(_){const D=W(_);if(_>=2655&&Ie({particleCount:_>=2700?300:_>=2660?200:120,spread:120,origin:{y:.5},colors:[D,"#ffffff","#ffd700"],ticks:400,gravity:.8,scalar:1.2}),_>=2700){const z=document.createElement("div");z.className="fixed inset-0 bg-yellow-400 pointer-events-none z-[250]",z.style.opacity="0.4",document.body.appendChild(z),setTimeout(()=>{z.style.transition="opacity 0.3s",z.style.opacity="0.6",setTimeout(()=>{z.style.opacity="0",setTimeout(()=>z.remove(),300)},100)},50),setTimeout(()=>{Ie({particleCount:150,spread:360,origin:{y:.6},colors:["#fbbf24","#ffffff"],shapes:["star"],ticks:300})},300)}}Le(()=>{s(p)==="shake"?(w(A,!0),setTimeout(()=>{w(A,!1),w(p,"burst")},1500)):s(p)==="burst"&&setTimeout(()=>{w(M,!1),Ie({particleCount:100,spread:70,origin:{y:.6},colors:["#f59e0b","#fbbf24","#ffffff"]}),setTimeout(()=>{w(p,"revealing")},400)},800)});function re(){if(s(m)<u.cards.length){const _=u.cards[s(m)];w(R,[...s(R),_],!0),setTimeout(()=>{F(_.card.rating)},700),aa(m),s(m)>=u.cards.length&&setTimeout(()=>{w(p,"complete")},1200)}}Le(()=>{s(p)==="revealing"&&s(m)===0&&setTimeout(re,400)});var Z=Ta(),te=x(Z);ye(te,20,()=>Array(20),Ee,(_,D,z)=>{var B=va();ze(B,`
                    left: ${Math.random()*100}%;
                    top: ${Math.random()*100}%;
                    animation-delay: ${z*.2}s;
                    animation-duration: ${4+Math.random()*3}s;
                `),S(_,B)}),g(te);var T=P(te,2);{var fe=_=>{var D=fa(),z=x(D);let B;var Y=x(z),G=x(Y,!0);g(Y),xe(2),g(z);var J=P(z,2),le=x(J,!0);g(J);var X=P(J,2),$=x(X,!0);g(X);var V=P(X,2);ye(V,20,()=>Array(3),Ee,(ee,de,ce)=>{var oe=ua();ze(oe,`animation-delay: ${ce*.3}s; animation-duration: 2s;`),S(ee,oe)}),g(V),g(D),se(()=>{B=pe(z,1,"relative svelte-18z0v2l",null,B,{"animate-shake":s(A),"animate-burst":s(p)==="burst"}),Q(G,K[u.packType]||"ğŸ“¦"),Q(le,q[u.packType]),Q($,s(p)==="shake"?"Preparando...":"Â¡Abriendo!")}),ie(1,D,()=>ge,()=>({duration:600,easing:Ue})),S(_,D)};L(T,_=>{(s(p)==="shake"||s(p)==="burst")&&s(M)&&_(fe)})}var me=P(T,2);{var ne=_=>{var D=Ca(),z=x(D),B=x(z),Y=x(B,!0);g(B);var G=P(B,2),J=x(G);{var le=a=>{var e=ma(),n=x(e);g(e),se(()=>Q(n,`Revelando ${s(m)??""} de ${u.cards.length??""}`)),S(a,e)},X=a=>{var e=ha();S(a,e)};L(J,a=>{s(p)==="revealing"?a(le):a(X,!1)})}g(G),g(z);var $=P(z,2);ye($,23,()=>s(R),({card:a,isNew:e},n)=>a.id+n,(a,e)=>{let n=()=>s(e).card,o=()=>s(e).isNew;var i=ba(),d=x(i),r=P(d,2),t=x(r);da(t,{get player(){return n()},get isNew(){return o()},flipOnReveal:!0,onClick:()=>{}}),g(r);var l=P(r,2);{var h=c=>{var v=Re(),b=we(v);{var I=k=>{var E=pa(),O=P(x(E),4);O.__click=()=>{var j;return(j=u.onSellDuplicate)==null?void 0:j.call(u,n())},g(E),ie(1,E,()=>Ce,()=>({delay:800})),S(k,E)},f=k=>{var E=ga();S(k,E)};L(b,k=>{C()?k(f,!1):k(I)})}S(c,v)};L(l,c=>{y()&&!o()&&u.onSellDuplicate&&c(h)})}g(i),se(c=>ze(d,`background: radial-gradient(circle, ${c??""}, transparent 70%);`),[()=>W(n().rating)]),ie(1,i,()=>ge,()=>({duration:600,delay:100,easing:Ue})),S(a,i)}),g($);var V=P($,2),ee=x(V);{var de=a=>{var e=xa();e.__click=re,ie(1,e,()=>ge,()=>({delay:800,duration:400,easing:Te})),S(a,e)},ce=a=>{var e=Re(),n=we(e);{var o=i=>{var d=Ma();d.__click=function(...c){var v;(v=u.onComplete)==null||v.apply(this,c)};var r=P(x(d),2),t=x(r);{var l=c=>{var v=ya();xe(),S(c,v)},h=c=>{var v=wa();xe(2),S(c,v)};L(t,c=>{y()&&!C()?c(l):c(h,!1)})}g(r),g(d),se(()=>d.disabled=y()&&!C()),ie(1,d,()=>ge,()=>({delay:400,duration:500,easing:Te})),S(i,d)};L(n,i=>{s(p)==="complete"&&i(o)},!0)}S(a,e)};L(ee,a=>{s(p)==="revealing"&&s(m)<u.cards.length?a(de):a(ce,!1)})}var oe=P(ee,2);{var he=a=>{var e=_a();ie(1,e,()=>Ce,()=>({delay:600})),S(a,e)};L(oe,a=>{y()&&s(p)==="complete"&&a(he)})}g(V),g(D),se(()=>Q(Y,y()?"Â¡Tu Primer Sobre!":"Â¡Cartas Obtenidas!")),ie(1,z,()=>na,()=>({y:-50,duration:600,easing:Te})),S(_,D)};L(me,_=>{(s(p)==="revealing"||s(p)==="complete")&&_(ne)})}g(Z),ie(3,Z,()=>Ce,()=>({duration:300})),S(ve,Z),Ke()}He(["click"]);var Sa=N('<div class="bg-green-500 text-black font-black px-6 py-3 rounded-full text-lg shadow-lg shadow-green-500/30 animate-pulse">Â¡GRATIS!</div>'),za=N('<div class="bg-slate-700 text-slate-400 font-bold px-6 py-3 rounded-full text-sm"> </div>'),Pa=N('<div class="absolute inset-0 bg-green-500/10 rounded-2xl animate-pulse pointer-events-none"></div>'),Ia=N('<button class="group relative flex flex-col items-center p-8 rounded-2xl border border-white/10 bg-gradient-to-b from-slate-800 to-slate-900 transition-all hover:-translate-y-2 hover:shadow-2xl hover:shadow-amber-500/10 hover:border-amber-500/30"><div class="text-8xl mb-6 transform group-hover:scale-110 transition-transform duration-300 drop-shadow-xl"> </div> <h3 class="text-2xl font-bold font-serif text-white mb-2"> </h3> <p class="text-sm text-slate-400 text-center mb-6 h-12"> </p> <div class="mt-auto flex items-center gap-2 bg-slate-950/50 px-6 py-3 rounded-xl border border-white/5 group-hover:bg-amber-500/20 group-hover:border-amber-500/50 transition-colors"><span class="text-2xl">ğŸª™</span> <span class="text-xl font-bold font-mono text-white group-hover:text-amber-300"> </span></div> <div class="absolute inset-0 bg-amber-500/5 opacity-0 group-hover:opacity-100 rounded-2xl transition-opacity pointer-events-none"></div></button>'),Ra=N(`<div class="max-w-6xl mx-auto space-y-12"><div class="text-center space-y-4"><h1 class="text-5xl font-black font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-400 to-amber-600 drop-shadow-sm">Tienda de Sobres</h1> <p class="text-slate-400 text-lg max-w-2xl mx-auto">Usa tus monedas para adquirir nuevos sobres y completar tu colecciÃ³n
            de leyendas.</p></div> <div class="relative"><button><div class="flex items-center gap-4"><div>ğŸ</div> <div class="text-left"><h3>Sobre Diario Gratis</h3> <p><!></p></div></div> <!> <!></button></div> <div class="grid grid-cols-1 md:grid-cols-3 gap-8"></div></div> <!>`,1);function Wa(ve,u){Ge(u,!0);const y=()=>Se(be,"$user",m),C=()=>Se(sa,"$allPlayers",m),p=()=>Se(ke,"$collectionIds",m),[m,M]=la();let R=H(!1),A=H(Ve([])),K=H(!1),q=H(!1),W=H(!1),F=H(!1),re=H(""),Z=H("PAWN");function te(){const r=y().lastDailyPackClaim||0,l=Date.now()-r,h=24*60*60*1e3;if(l>=h)w(F,!0),w(re,"");else{w(F,!1);const c=h-l,v=Math.floor(c/(60*60*1e3)),b=Math.floor(c%(60*60*1e3)/(60*1e3));w(re,`${v}h ${b}m`)}}function T(){s(F)&&(be.update(r=>{const t={...r,lastDailyPackClaim:Date.now()};return typeof window<"u"&&ia.saveUser(t),t}),w(R,!0),w(q,!1),w(Z,"PAWN"),ue.success("Â¡Sobre Diario Reclamado!"),setTimeout(()=>{const r=Pe.openPack("PAWN",C());ne(r),te()},500))}ea(()=>{p().length===0&&fe(),te();const r=setInterval(te,6e4);return()=>clearInterval(r)});function fe(){w(q,!0),w(R,!0),w(W,!1),w(Z,"STARTER"),setTimeout(()=>{const r=Pe.openPack("STARTER",C());ne(r),ue.info("Â¡Bienvenido! Has recibido un Sobre Inicial.")},500)}function me(r){if(s(R))return;const t=Ne[r];if(y().coins<t.price){ue.error("No tienes suficientes monedas.");return}be.spendCoins(t.price)&&(w(R,!0),w(q,!1),w(Z,r,!0),ue.success(`Â¡Compraste un ${t.name}!`),setTimeout(()=>{const l=Pe.openPack(r,C());ne(l)},500))}function ne(r){w(A,r.map(t=>{const{isNew:l}=ke.addCard(t.id);return{card:t,isNew:l}}),!0),w(R,!1),w(K,!0)}function _(r){s(W)||(be.addCoins(100),ke.removeCard(r.id),w(W,!0),ue.success("Â¡Vendido! Has ganado 100 Monedas."))}function D(){if(s(q)&&!s(W)){ue.error("Debes vender la carta repetida para continuar.");return}w(K,!1),w(A,[],!0),w(W,!1)}var z=Ra();oa("1vodbqu",r=>{ra(()=>{ta.title="Tienda - Grandmaster Legends"})});var B=we(z),Y=P(x(B),2),G=x(Y);G.__click=T;var J=x(G),le=x(J),X=P(le,2),$=x(X),V=P($,2),ee=x(V);{var de=r=>{var t=je("Â¡Disponible ahora! Haz clic para reclamar");S(r,t)},ce=r=>{var t=je();se(()=>Q(t,`PrÃ³ximo sobre en: ${s(re)??""}`)),S(r,t)};L(ee,r=>{s(F)?r(de):r(ce,!1)})}g(V),g(X),g(J);var oe=P(J,2);{var he=r=>{var t=Sa();S(r,t)},a=r=>{var t=za(),l=x(t);g(t),se(()=>Q(l,`ğŸ• ${s(re)??""}`)),S(r,t)};L(oe,r=>{s(F)?r(he):r(a,!1)})}var e=P(oe,2);{var n=r=>{var t=Pa();S(r,t)};L(e,r=>{s(F)&&r(n)})}g(G),g(Y);var o=P(Y,2);ye(o,21,()=>Object.values(Ne),Ee,(r,t)=>{var l=Re(),h=we(l);{var c=v=>{var b=Ia();b.__click=()=>me(s(t).id);var I=x(b),f=x(I,!0);g(I);var k=P(I,2),E=x(k,!0);g(k);var O=P(k,2),j=x(O,!0);g(O);var ae=P(O,2),U=P(x(ae),2),Me=x(U,!0);g(U),g(ae),xe(2),g(b),se(()=>{b.disabled=s(R),Q(f,s(t).image),Q(E,s(t).name),Q(j,s(t).description),Q(Me,s(t).price)}),S(v,b)};L(h,v=>{s(t).id!=="STARTER"&&v(c)})}S(r,l)}),g(o),g(B);var i=P(B,2);{var d=r=>{ka(r,{get cards(){return s(A)},get packType(){return s(Z)},get isStarter(){return s(q)},onSellDuplicate:_,get duplicateSold(){return s(W)},onComplete:D})};L(i,r=>{s(K)&&r(d)})}se(()=>{pe(G,1,`w-full group relative flex flex-col md:flex-row items-center justify-between p-6 rounded-2xl border-2 transition-all ${s(F)?"border-green-500 bg-gradient-to-r from-green-900/40 via-emerald-900/40 to-green-900/40 hover:shadow-2xl hover:shadow-green-500/20 hover:-translate-y-1":"border-slate-700 bg-gradient-to-r from-slate-800 to-slate-900 cursor-not-allowed opacity-75"}`),G.disabled=!s(F)||s(R),pe(le,1,`text-6xl ${s(F)?"animate-bounce":""}`),pe($,1,`text-2xl font-bold font-serif ${s(F)?"text-green-400":"text-slate-400"}`),pe(V,1,`text-sm ${s(F)?"text-green-300":"text-slate-500"}`)}),S(ve,z),Ke(),M()}He(["click"]);export{Wa as component};
