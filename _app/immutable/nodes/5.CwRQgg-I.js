import{d as Ue,f as g,a as p,c as Oe,s as l}from"../chunks/CUg0jjTL.js";import{i as Qe}from"../chunks/tcwNBQes.js";import{p as Re,g as xe,h as Se,j as de,t as S,a as De,k as e,m as D,e as He,s as o,c as a,o as B,$ as Ke,r as t,f as i,n as be,q as Le,v as We}from"../chunks/DM83Yp_6.js";import{i as H}from"../chunks/xBduZJxN.js";import{e as pe}from"../chunks/DUZWIz6q.js";import{h as Xe}from"../chunks/B2lhww7r.js";import{r as Ye,s as N}from"../chunks/Cv-1ndnf.js";import{s as fe,t as F}from"../chunks/DeqG99KK.js";import{b as Ze}from"../chunks/E943QZvq.js";import{s as et,a as ee}from"../chunks/DMdtiUjS.js";import{c as ne,t as tt,a as _e}from"../chunks/B8Z0d2C2.js";import{o as at,a as ge}from"../chunks/AYMUO98B.js";import{M as st}from"../chunks/e18qL9uJ.js";var rt=g('<div class="text-center py-16 border-2 border-dashed border-slate-700/50 rounded-xl bg-slate-900/30"><div class="text-5xl mb-4 text-slate-600">‚ôî</div> <p class="mb-2 text-slate-400 font-medium">Sin jugadores en la alineaci√≥n</p> <p class="text-sm text-slate-500">A√±ade jugadores desde tu roster para empezar a puntuar</p></div>'),ot=g('<div class="absolute -top-2 -right-2 px-3 py-1 rounded-full text-xs font-bold z-10 shadow-lg bg-gradient-to-r from-amber-500 to-yellow-600 text-slate-900 border border-yellow-400">‚òÖ CAPIT√ÅN</div>'),it=g('<div class="relative group bg-slate-800/40 rounded-xl border border-white/5 p-4 hover:border-primary/30 transition-all duration-300 hover:shadow-lg hover:shadow-primary/5"><!> <div class="flex items-start gap-4 mb-4"><div class="relative"><img class="w-14 h-14 rounded-full object-cover border-2 border-white/10 group-hover:border-primary transition-colors"/> <div class="absolute -bottom-1 -right-1 bg-slate-900 text-[10px] font-bold px-1.5 py-0.5 rounded border border-white/10 text-slate-300"> </div></div> <div class="overflow-hidden"><h3 class="font-bold text-white leading-tight truncate pr-2 group-hover:text-primary transition-colors"> </h3> <div class="text-xs text-slate-400 mt-1 truncate"> </div></div></div> <div class="grid grid-cols-2 gap-3 mb-4 text-sm"><div class="bg-slate-900/50 p-2.5 rounded-lg border border-white/5"><div class="text-[10px] text-slate-500 uppercase tracking-wider mb-0.5">Valor</div> <div class="text-white font-mono font-medium"> </div></div> <button type="button" class="bg-amber-500/5 p-2.5 rounded-lg cursor-pointer hover:bg-amber-500/10 transition-colors text-left border border-amber-500/10 group/clause"><div class="text-[10px] text-amber-500/70 uppercase tracking-wider mb-0.5">Cl√°usula</div> <div class="text-amber-400 font-mono font-medium group-hover/clause:text-amber-300 transition-colors"> <span class="text-xs">‚úé</span></div></button></div> <div class="flex gap-2"><button> </button> <button class="px-3 py-2 rounded-lg text-xs font-bold uppercase tracking-wider bg-red-500/10 text-red-400 hover:bg-red-500/20 hover:text-red-300 border border-red-500/20 transition-colors">Banquillo</button></div></div>'),dt=g('<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),nt=g('<a href="/Grandmaster-Fantasy/market" class="btn-primary inline-flex items-center gap-2"><span>+</span> Ir al Mercado</a>'),lt=g('<div class="text-center py-12 bg-slate-900/30 rounded-xl"><p class="text-slate-400 mb-4"> </p> <!></div>'),ct=g('<div class="bg-slate-900/50 rounded-lg p-4 border border-white/5 hover:border-white/10 transition-colors"><div class="flex justify-between items-start mb-3"><div><h3 class="font-bold text-white text-sm truncate max-w-[120px]"> </h3> <div class="text-xs text-slate-500 truncate max-w-[120px]"> </div></div> <div class="text-xs bg-slate-800 px-2 py-1 rounded text-slate-300 border border-white/5 font-mono"> </div></div> <div class="flex justify-between items-center mb-4 text-xs bg-slate-950/30 p-2 rounded"><span class="text-slate-500 uppercase tracking-wider">Cl√°usula</span> <button class="text-amber-400 font-mono font-medium hover:text-amber-300 hover:underline"> </button></div> <div class="flex gap-2"><button class="flex-1 bg-primary text-slate-900 font-bold text-xs py-2 rounded hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed transition-all">Alinear</button> <button class="px-3 bg-red-500/10 text-red-400 font-bold text-xs py-2 rounded border border-red-500/20 hover:bg-red-500/20 transition-all">Vender</button></div></div>'),vt=g('<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"></div>'),ut=g(`<div class="text-center mb-8"><div class="relative inline-block mb-4"><img class="w-24 h-24 rounded-full border-4 border-amber-500/20 shadow-xl"/> <div class="absolute bottom-0 right-0 bg-slate-900 text-amber-500 text-lg p-1.5 rounded-full border border-amber-500/30">üõ°Ô∏è</div></div> <h3 class="text-2xl font-bold font-serif text-white"> </h3> <p class="text-slate-400 mt-1">Cl√°usula actual: <span class="text-white font-mono"> </span></p></div> <div class="space-y-6"><div class="bg-slate-800/50 p-6 rounded-xl border border-white/5"><label for="clause-range" class="block text-sm font-medium text-slate-300 mb-4">Nueva Cl√°usula (M)</label> <div class="flex items-center gap-4 mb-4"><span class="font-mono text-slate-500 text-xs"> </span> <input id="clause-range" type="range" class="flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-amber-500 hover:accent-amber-400"/> <span class="font-mono text-slate-500 text-xs"> </span></div> <div class="text-center"><span class="text-4xl font-bold font-mono text-amber-400 tracking-tight"> </span></div></div> <div class="bg-slate-900/50 p-4 rounded-lg flex justify-between items-center text-sm border border-white/5"><span class="text-slate-400">Coste de la operaci√≥n (10%)</span> <span> </span></div> <div class="text-xs text-center text-slate-500 px-4">Al blindar a este jugador, reduces la probabilidad de que otros
                equipos paguen su cl√°usula.</div> <button class="w-full btn-primary py-3.5 text-base shadow-lg shadow-amber-500/10">Confirmar Blindaje</button></div>`,1),mt=g('<div class="space-y-8"><div><h1 class="text-3xl font-bold font-serif text-white mb-2">Mi Equipo</h1> <p class="text-sm text-slate-400">Gestiona tu plantilla, alineaci√≥n y cl√°usulas de rescisi√≥n</p></div> <div class="card p-6"><h2 class="text-xl font-bold font-serif text-white mb-6 flex items-center gap-3"><span class="text-2xl">‚ôü</span> Alineaci√≥n Activa <span class="text-sm font-sans font-normal text-slate-400 ml-2"> </span></h2> <!></div> <div class="mt-12"><h2 class="text-xl font-bold font-serif text-white mb-6 flex items-center gap-3 px-1"><span class="text-2xl text-slate-500">üë•</span> Banquillo <span class="text-sm font-sans font-normal text-slate-400 ml-2"> </span></h2> <!></div></div> <!>',1);function Mt(he,we){Re(we,!1);const x=()=>ee(at,"$ownedPlayers",K),z=()=>ee(ne,"$currentTeam",K),V=()=>ee(_e,"$captain",K),te=()=>ee(tt,"$teamPlayers",K),[K,$e]=et(),L=D(),U=D();let W=D(!1),d=D(null),f=D(0);function le(r){r&&(B(d,r),B(f,r.clause),B(W,!0))}function ke(){if(e(d)&&e(f)>e(d).clause){const r=ge.increaseClause(e(d).id,e(f));r.success?(F.success(r.message),B(W,!1)):F.error(r.message)}}function Ce(r){const n=ne.addToTeam(r);n.success?F.success(n.message):F.error(n.message)}function Pe(r){ne.removeFromTeam(r),F.success("Jugador eliminado del equipo")}function je(r){if(confirm(`¬øVender a ${r.name}? Recibir√°s ${(r.price*.8/1e6).toFixed(0)}M`)){const n=ge.sellPlayer(r.id);n.success?F.success(n.message):F.error(n.message)}}function Me(r){const n=_e.setCaptain(V()===r?null:r);n.success?F.success(n.message):F.error(n.message)}function y(r){return`${(r/1e6).toFixed(0)}M`}xe(()=>(x(),z()),()=>{B(L,x().filter(r=>!z().includes(r.id)))}),xe(()=>(e(d),e(f)),()=>{B(U,e(d)&&e(f)>e(d).clause?Math.floor((e(f)-e(d).clause)*.1):0)}),Se(),Qe();var ce=mt();Xe("1t76j9n",r=>{He(()=>{Ke.title="Mi Equipo - Grandmaster Fantasy"})});var ae=de(ce),se=o(a(ae),2),re=a(se),ve=o(a(re),2),Te=a(ve);t(ve),t(re);var qe=o(re,2);{var Ae=r=>{var n=rt();p(r,n)},Fe=r=>{var n=dt();pe(n,5,te,c=>c.id,(c,s)=>{const _=We(()=>(x(),e(s),i(()=>{var m;return((m=x().find(A=>A.id===e(s).id))==null?void 0:m.clause)||e(s).price})));var v=it(),u=a(v);{var b=m=>{var A=ot();p(m,A)};H(u,m=>{V(),e(s),i(()=>V()===e(s).id)&&m(b)})}var h=o(u,2),w=a(h),$=a(w),G=o($,2),E=a(G,!0);t(G),t(w);var k=o(w,2),C=a(k),J=a(C,!0);t(C);var P=o(C,2),j=a(P);t(P),t(k),t(h);var M=o(h,2),I=a(M),T=o(a(I),2),X=a(T,!0);t(T),t(I);var O=o(I,2);O.__click=()=>le(x().find(m=>m.id===e(s).id));var Q=o(a(O),2),Y=a(Q);be(),t(Q),t(O),t(M);var Z=o(M,2),q=a(Z);q.__click=()=>Me(e(s).id);var R=a(q,!0);t(q);var ie=o(q,2);ie.__click=()=>Pe(e(s).id),t(Z),t(v),S((m,A)=>{N($,"src",(e(s),i(()=>e(s).photoUrl||`https://ui-avatars.com/api/?name=${e(s).name}&background=random`))),N($,"alt",(e(s),i(()=>e(s).name))),l(E,(e(s),i(()=>e(s).rating))),l(J,(e(s),i(()=>e(s).name))),l(j,`@${e(s),i(()=>e(s).username)??""}`),l(X,m),l(Y,`${A??""} `),fe(q,1,`flex-1 px-3 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all
									${V(),e(s),i(()=>V()===e(s).id?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"bg-slate-700/50 text-slate-400 hover:bg-slate-700 hover:text-white border border-transparent")??""}`),l(R,(V(),e(s),i(()=>V()===e(s).id?"Quitar C":"Capit√°n")))},[()=>(e(s),i(()=>y(e(s).price))),()=>(Le(e(_)),i(()=>y(e(_))))]),p(c,v)}),t(n),p(r,n)};H(qe,r=>{te(),i(()=>te().length===0)?r(Ae):r(Fe,!1)})}t(se);var ue=o(se,2),oe=a(ue),me=o(a(oe),2),ye=a(me);t(me),t(oe);var Be=o(oe,2);{var Ve=r=>{var n=lt(),c=a(n),s=a(c,!0);t(c);var _=o(c,2);{var v=u=>{var b=nt();p(u,b)};H(_,u=>{x(),i(()=>x().length===0)&&u(v)})}t(n),S(()=>l(s,(x(),i(()=>x().length===0?"No has fichado jugadores a√∫n.":"Todos tus jugadores est√°n en la alineaci√≥n titular.")))),p(r,n)},Ge=r=>{var n=vt();pe(n,5,()=>e(L),c=>c.id,(c,s)=>{var _=ct(),v=a(_),u=a(v),b=a(u),h=a(b,!0);t(b);var w=o(b,2),$=a(w);t(w),t(u);var G=o(u,2),E=a(G,!0);t(G),t(v);var k=o(v,2),C=o(a(k),2);C.__click=()=>le(e(s));var J=a(C);t(C),t(k);var P=o(k,2),j=a(P);j.__click=()=>Ce(e(s).id);var M=o(j,2);M.__click=()=>je(e(s)),t(P),t(_),S(I=>{l(h,(e(s),i(()=>e(s).name))),l($,`@${e(s),i(()=>e(s).username)??""}`),l(E,(e(s),i(()=>e(s).rating))),l(J,`${I??""} ‚úé`),j.disabled=(z(),i(()=>z().length>=3))},[()=>(e(s),i(()=>y(e(s).clause)))]),p(c,_)}),t(n),p(r,n)};H(Be,r=>{e(L),i(()=>e(L).length===0)?r(Ve):r(Ge,!1)})}t(ue),t(ae);var Ie=o(ae,2);st(Ie,{get isOpen(){return e(W)},title:"Blindar Jugador",onClose:()=>B(W,!1),children:(r,n)=>{var c=Oe(),s=de(c);{var _=v=>{var u=ut(),b=de(u),h=a(b),w=a(h);be(2),t(h);var $=o(h,2),G=a($,!0);t($);var E=o($,2),k=o(a(E)),C=a(k,!0);t(k),t(E),t(b);var J=o(b,2),P=a(J),j=o(a(P),2),M=a(j),I=a(M,!0);t(M);var T=o(M,2);Ye(T),N(T,"step",1e6);var X=o(T,2),O=a(X,!0);t(X),t(j);var Q=o(j,2),Y=a(Q),Z=a(Y,!0);t(Y),t(Q),t(P);var q=o(P,2),R=o(a(q),2),ie=a(R);t(R),t(q);var m=o(q,4);m.__click=ke,t(J),S((A,Ne,ze,Ee,Je)=>{N(w,"src",(e(d),i(()=>e(d).photoUrl||`https://ui-avatars.com/api/?name=${e(d).name}`))),N(w,"alt",(e(d),i(()=>e(d).name))),l(G,(e(d),i(()=>e(d).name))),l(C,A),l(I,Ne),N(T,"min",(e(d),i(()=>e(d).price))),N(T,"max",(e(d),i(()=>e(d).price*5))),l(O,ze),l(Z,Ee),fe(R,1,`font-bold font-mono ${e(U)>0?"text-red-400":"text-slate-500"}`),l(ie,`-${Je??""}`),m.disabled=e(U)===0},[()=>(e(d),i(()=>y(e(d).clause))),()=>(e(d),i(()=>y(e(d).price))),()=>(e(d),i(()=>y(e(d).price*5))),()=>(e(f),i(()=>y(e(f)))),()=>(e(U),i(()=>y(e(U))))]),Ze(T,()=>e(f),A=>B(f,A)),p(v,u)};H(s,v=>{e(d)&&v(_)})}p(r,c)},$$slots:{default:!0}}),S(()=>{l(Te,`(${z(),i(()=>z().length)??""}/3)`),l(ye,`(${x(),i(()=>x().length)??""}/15)`)}),p(he,ce),De(),$e()}Ue(["click"]);export{Mt as component};
